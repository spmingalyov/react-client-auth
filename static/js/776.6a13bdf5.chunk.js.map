{"version":3,"file":"static/js/776.6a13bdf5.chunk.js","mappings":"yIAwBA,IArBuB,WACtB,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,OACCC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACwB,WAAtBJ,EAASK,WACTH,EAAAA,EAAAA,MAAA,QAAMI,UAAU,aAAYF,SAAA,CAAC,wEAE5BG,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,iBAAgBL,SAAC,0HAIL,kBAAtBJ,EAASK,WACTH,EAAAA,EAAAA,MAAA,QAAMI,UAAU,aAAYF,SAAA,CAAC,2FAE5BG,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,UAASL,SAAC,wCAKxB,C,6CCRA,IAVyB,WACxB,IAAQM,GAAYC,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAA9CH,QAER,OACCH,EAAAA,EAAAA,KAAA,OAAKD,UAAU,6CAA4CF,UAC1DG,EAAAA,EAAAA,KAAA,OAAKD,UAAU,OAAMF,SAAEM,KAG1B,C,wDCaA,IAf4B,SAAHI,GAAsB,IAAhBC,EAAQD,EAARC,SACtBC,GAAcL,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAAhDG,UACFC,GAAWC,EAAAA,EAAAA,KACjB,OACCX,EAAAA,EAAAA,KAAA,UACCD,UAAU,qCACVa,KAAK,SACLC,QAAsB,UAAbL,EAAuB,kBAAME,GAASI,EAAAA,EAAAA,MAAO,EAAG,WAAO,EAChEC,SAAUN,EAAUZ,SAEN,UAAbW,EAAuB,iCAAU,gHAGrC,C,qHCcA,EAhCiB,SAACQ,GAAgC,OAAK,WACtD,IAAMvB,GAAWC,EAAAA,EAAAA,MACXuB,GAASC,EAAAA,EAAAA,KAGf,OAAKD,GAAgC,aAAtBxB,EAASK,SASpBmB,GAAgC,kBAAtBxB,EAASK,UAQnBmB,GAAgC,WAAtBxB,EAASK,UANrBE,EAAAA,EAAAA,KAACmB,EAAAA,SAAQ,CAACC,SAAS,aAAYvB,UAC9BG,EAAAA,EAAAA,KAACqB,EAAAA,GAAQ,CAACnB,GAAG,gBAaTF,EAAAA,EAAAA,KAACmB,EAAAA,SAAQ,CAACC,SAAS,aAAYvB,SAAEmB,OAvBtChB,EAAAA,EAAAA,KAACmB,EAAAA,SAAQ,CAACC,SAAS,aAAYvB,UAC9BG,EAAAA,EAAAA,KAACqB,EAAAA,GAAQ,CAACnB,GAAG,SAASG,MAAO,CAAEiB,KAAM7B,MAuBzC,CAAC,EChCY8B,EAAmBC,IAAQC,E,2FCUxC,EAXkB,WACjB,OACC9B,EAAAA,EAAAA,MAAA,OAAKI,UAAU,sDAAqDF,SAAA,EACnEG,EAAAA,EAAAA,KAAA,OAAKD,UAAU,OAAMF,SAAC,yJACtBG,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,SAAQL,UAChBG,EAAAA,EAAAA,KAAA,UAAQD,UAAU,sCAAqCF,SAAC,uCAI5D,E,oECgEA,EAlE6B,WAC5B,IAAA6B,GAA0BC,EAAAA,EAAAA,UAAiB,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAwBL,EAAAA,EAAAA,UAAiB,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACpBG,GAAgCT,EAAAA,EAAAA,UAAiB,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA7CE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAA0Cb,EAAAA,EAAAA,UAAiB,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAAvDE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GAE9BtC,GAAYC,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAA9CH,QAEFO,GAAWC,EAAAA,EAAAA,KAYjB,OACChB,EAAAA,EAAAA,MAAA,OAAKI,UAAU,6BAA4BF,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,QACCI,UAAU,sEACV6C,SAdsB,SAACC,GACzBA,EAAEC,iBACF,IAAIC,EAAkB,CACrBb,KAAAA,EACAJ,MAAAA,EACAQ,SAAAA,EACAI,cAAAA,GAEDhC,GAASsC,EAAAA,EAAAA,IAAaD,GACvB,EAK8BlD,SAAA,EAE3BG,EAAAA,EAAAA,KAAA,SACCiD,UAAQ,EACRlD,UAAU,sBACVa,KAAK,OACLsC,YAAY,yIACZC,MAAOjB,EACPkB,SAAU,SAAAP,GAAC,OAAIV,EAAQU,EAAEQ,OAAOF,MAAM,KAEvCnD,EAAAA,EAAAA,KAAA,SACCiD,UAAQ,EACRlD,UAAU,sBACVa,KAAK,QACLsC,YAAY,mDACZC,MAAOrB,EACPsB,SAAU,SAAAP,GAAC,OAAId,EAASc,EAAEQ,OAAOF,MAAM,KAExCnD,EAAAA,EAAAA,KAAA,SACCiD,UAAQ,EACRlD,UAAU,sBACVa,KAAK,WACLsC,YAAY,kFACZC,MAAOb,EACPc,SAAU,SAAAP,GAAC,OAAIN,EAAYM,EAAEQ,OAAOF,MAAM,KAE3CnD,EAAAA,EAAAA,KAAA,SACCiD,UAAQ,EACRlD,UAAU,sBACVa,KAAK,WACLsC,YAAY,kFACZC,MAAOT,EACPU,SAAU,SAAAP,GAAC,OAAIF,EAAiBE,EAAEQ,OAAOF,MAAM,KAEhDnD,EAAAA,EAAAA,KAACsD,EAAAA,EAAM,CAAC9C,SAAS,kBACjBR,EAAAA,EAAAA,KAACuD,EAAAA,EAAU,OAEXpD,IAAWH,EAAAA,EAAAA,KAACwD,EAAAA,EAAY,MAG5B,EC5DA,GAAejC,E,QAAAA,IALc,WAE5B,OADyBnB,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAAnDmD,cACczD,EAAAA,EAAAA,KAAC0D,EAAK,KAAM1D,EAAAA,EAAAA,KAAC2D,EAAgB,GACpD,G","sources":["components/auth-switch/index.tsx","components/error-message/index.tsx","components/submit-button/index.tsx","helpers/auth/with-auth.tsx","helpers/auth/index.ts","components/popup/index.tsx","components/registration-form/index.tsx","pages/registration/index.tsx"],"sourcesContent":["import { FC } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\n\nconst AuthSwitch: FC = () => {\n\tconst location = useLocation()\n\treturn (\n\t\t<>\n\t\t\t{location.pathname === '/login' && (\n\t\t\t\t<span className='flex gap-2'>\n\t\t\t\t\tНет аккаунта?\n\t\t\t\t\t<Link to='/registration?'>Зарегистрироватьвся</Link>\n\t\t\t\t</span>\n\t\t\t)}\n\n\t\t\t{location.pathname === '/registration' && (\n\t\t\t\t<span className='flex gap-2'>\n\t\t\t\t\tУже есть аккаунт?\n\t\t\t\t\t<Link to='/login?'>Войти</Link>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default AuthSwitch\n","import { FC } from 'react'\n\nimport { useAppSelector } from '@hooks/redux'\n\nconst ErrorMessage: FC = () => {\n\tconst { isError } = useAppSelector(state => state.user)\n\n\treturn (\n\t\t<div className='mt-5 p-5 bg-red-500 rounded-lg text-center'>\n\t\t\t<div className='w-96'>{isError}</div>\n\t\t</div>\n\t)\n}\n\nexport default ErrorMessage\n","import { FC } from 'react'\n\nimport { push } from '@store/push/pushSlice'\n\nimport { useAppDispatch, useAppSelector } from '@hooks/redux'\n\ninterface ISubmit {\n\ttypeAuth: string\n}\n\nconst Submit: FC<ISubmit> = ({ typeAuth }) => {\n\tconst { isLoading } = useAppSelector(state => state.user)\n\tconst dispatch = useAppDispatch()\n\treturn (\n\t\t<button\n\t\t\tclassName='bg-primary border-none w-full mt-2'\n\t\t\ttype='submit'\n\t\t\tonClick={typeAuth === 'login' ? () => dispatch(push()) : () => {}}\n\t\t\tdisabled={isLoading}\n\t\t>\n\t\t\t{typeAuth === 'login' ? 'Войти' : 'Зарегистрироваться'}\n\t\t</button>\n\t)\n}\n\nexport default Submit\n","import { Suspense } from 'react'\nimport { Navigate, useLocation } from 'react-router-dom'\n\nimport { useAuth } from '@hooks/useAuth'\n\nconst withAuth = (component: () => React.ReactNode) => () => {\n\tconst location = useLocation()\n\tconst isAuth = useAuth()\n\n\t//redirect to login page for unauthorized user\n\tif (!isAuth && location.pathname === '/profile') {\n\t\treturn (\n\t\t\t<Suspense fallback='Loading...'>\n\t\t\t\t<Navigate to='/login' state={{ from: location }} />\n\t\t\t</Suspense>\n\t\t)\n\t}\n\n\t//redirect to profile page for authorized user\n\tif (isAuth && location.pathname === '/registration') {\n\t\treturn (\n\t\t\t<Suspense fallback='Loading...'>\n\t\t\t\t<Navigate to='/profile' />\n\t\t\t</Suspense>\n\t\t)\n\t}\n\t//redirect to profile after login\n\tif (isAuth && location.pathname === '/login') {\n\t\treturn (\n\t\t\t<Suspense fallback='Loading...'>\n\t\t\t\t<Navigate to='/profile' />\n\t\t\t</Suspense>\n\t\t)\n\t}\n\n\treturn <Suspense fallback='Loading...'>{component()}</Suspense>\n}\nexport default withAuth\n","import compose from 'compose-function'\n\nimport withAuth from './with-auth'\n\nexport const withAuthProvider = compose(withAuth)\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Popup: FC = () => {\n\treturn (\n\t\t<div className='flex gap-2 p-5 bg-green-500 rounded-xl items-center'>\n\t\t\t<div className='w-96'>Регистрация прошла успешно!</div>\n\t\t\t<Link to='/login'>\n\t\t\t\t<button className='border-none bg-green-900 text-white'>Войти</button>\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default Popup\n","import { FC, useState } from 'react'\n\nimport AuthSwitch from '@components/auth-switch'\nimport ErrorMessage from '@components/error-message'\nimport Submit from '@components/submit-button'\n\nimport { registration } from '@store/user/userSlice'\n\nimport { useAppDispatch, useAppSelector } from '@hooks/redux'\n\nconst RegistrationForm: FC = () => {\n\tconst [email, setEmail] = useState<string>('')\n\tconst [name, setName] = useState<string>('')\n\tconst [password, setPassword] = useState<string>('')\n\tconst [checkPassword, setCheckPassword] = useState<string>('')\n\n\tconst { isError } = useAppSelector(state => state.user)\n\n\tconst dispatch = useAppDispatch()\n\n\tconst handleLoginEvent = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault()\n\t\tlet userCredentials = {\n\t\t\tname,\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tcheckPassword\n\t\t}\n\t\tdispatch(registration(userCredentials))\n\t}\n\treturn (\n\t\t<div className='flex flex-col items-center'>\n\t\t\t<form\n\t\t\t\tclassName='p-5 bg-secondary inline-flex flex-col gap-3 rounded-xl items-center'\n\t\t\t\tonSubmit={handleLoginEvent}\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\tclassName='p-3 w-96 rounded-md'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder='Введите имя пользователя'\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={e => setName(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\tclassName='p-3 w-96 rounded-md'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tplaceholder='Введите email'\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\tclassName='p-3 w-96 rounded-md'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='Введите пароль'\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\tclassName='p-3 w-96 rounded-md'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='Введите пароль'\n\t\t\t\t\tvalue={checkPassword}\n\t\t\t\t\tonChange={e => setCheckPassword(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<Submit typeAuth='registration' />\n\t\t\t\t<AuthSwitch />\n\t\t\t</form>\n\t\t\t{isError && <ErrorMessage />}\n\t\t</div>\n\t)\n}\n\nexport default RegistrationForm\n","import { FC } from 'react'\n\nimport Popup from '@components/popup'\nimport RegistrationForm from '@components/registration-form'\n\nimport { withAuthProvider } from '@helpers/auth'\n\nimport { useAppSelector } from '@hooks/redux'\n\nconst RegistrationPage: FC = () => {\n\tconst { isRegistered } = useAppSelector(state => state.user)\n\treturn isRegistered ? <Popup /> : <RegistrationForm />\n}\n\nexport default withAuthProvider(RegistrationPage)\n"],"names":["location","useLocation","_jsxs","_Fragment","children","pathname","className","_jsx","Link","to","isError","useAppSelector","state","user","_ref","typeAuth","isLoading","dispatch","useAppDispatch","type","onClick","push","disabled","component","isAuth","useAuth","Suspense","fallback","Navigate","from","withAuthProvider","compose","withAuth","_useState","useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","name","setName","_useState5","_useState6","password","setPassword","_useState7","_useState8","checkPassword","setCheckPassword","onSubmit","e","preventDefault","userCredentials","registration","required","placeholder","value","onChange","target","Submit","AuthSwitch","ErrorMessage","isRegistered","Popup","RegistrationForm"],"sourceRoot":""}